{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/anuragkalra/safekeep-workspace/v2-workspace/quimby/frontend/src/ParticipantLog.js\";\nimport React from 'react';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass ParticipantLog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dummy: 0,\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:9000/participants').then(res => res.json()).then(users => this.setState({\n      users\n    }));\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(this.props.counter);\n\n    if (this.props.counter !== prevProps.counter) {\n      console.log('in the condition');\n      fetch('http://localhost:9000/participants').then(res => res.json()).then(users => this.setState({\n        users\n      }));\n    }\n  }\n\n  handleDelete(id) {\n    console.log(id);\n    let url = 'http://localhost:9000/participants?id=' + id;\n    console.log(url);\n    fetch(url, {\n      method: 'DELETE'\n    });\n    this.setState({\n      dummy: this.state.dummy + 1\n    });\n  }\n\n  render() {\n    let data = [];\n    let colors = [\"#A0E7E5\", \"#B4F8C8\", \"#AC19DD\", \"#98DE6C\", \"#AA42CF\", \"28C4DF\"];\n    this.state.users.forEach((e, i) => data.push({\n      title: e.first_name,\n      value: parseInt(e.hours),\n      color: colors[i]\n    }));\n    console.log(data);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Participant Log\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PieChart, {\n        style: {\n          height: \"200px\",\n          fontSize: \"50%\"\n        },\n        label: ({\n          dataEntry\n        }) => dataEntry.title,\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), this.state.users.map(u => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [u.first_name, \" \", u.last_name, \" \", u.hours, /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => this.handleDelete(u.id, e),\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 23\n          }, this)]\n        }, u.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 22\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ParticipantLog;","map":{"version":3,"sources":["/Users/anuragkalra/safekeep-workspace/v2-workspace/quimby/frontend/src/ParticipantLog.js"],"names":["React","PieChart","ParticipantLog","Component","constructor","props","state","dummy","users","componentDidMount","fetch","then","res","json","setState","componentDidUpdate","prevProps","console","log","counter","handleDelete","id","url","method","render","data","colors","forEach","e","i","push","title","first_name","value","parseInt","hours","color","height","fontSize","dataEntry","map","u","last_name"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,yBAAzB;;AAEA,MAAMC,cAAN,SAA6BF,KAAK,CAACG,SAAnC,CAA6C;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG,CADC;AAETC,MAAAA,KAAK,EAAG;AAFC,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAC,oCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMH,KAAK,IAAI,KAAKM,QAAL,CAAc;AAAEN,MAAAA;AAAF,KAAd,CAFf;AAGH;;AAEDO,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWc,OAAvB;;AACA,QAAI,KAAKd,KAAL,CAAWc,OAAX,KAAuBH,SAAS,CAACG,OAArC,EAA8C;AAC1CF,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAR,MAAAA,KAAK,CAAC,oCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMH,KAAK,IAAI,KAAKM,QAAL,CAAc;AAAEN,QAAAA;AAAF,OAAd,CAFf;AAGH;AACJ;;AAEDY,EAAAA,YAAY,CAACC,EAAD,EAAK;AACbJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,EAAZ;AACA,QAAIC,GAAG,GAAG,2CAA2CD,EAArD;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAZ,IAAAA,KAAK,CAACY,GAAD,EAAM;AACPC,MAAAA,MAAM,EAAG;AADF,KAAN,CAAL;AAGA,SAAKT,QAAL,CAAc;AACVP,MAAAA,KAAK,EAAG,KAAKD,KAAL,CAAWC,KAAX,GAAmB;AADjB,KAAd;AAGH;;AAEDiB,EAAAA,MAAM,GAAG;AACL,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,MAAM,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,QAAxD,CAAb;AACA,SAAKpB,KAAL,CAAWE,KAAX,CAAiBmB,OAAjB,CAAyB,CAACC,CAAD,EAAIC,CAAJ,KAAUJ,IAAI,CAACK,IAAL,CAC/B;AACIC,MAAAA,KAAK,EAAEH,CAAC,CAACI,UADb;AAEIC,MAAAA,KAAK,EAAEC,QAAQ,CAACN,CAAC,CAACO,KAAH,CAFnB;AAGIC,MAAAA,KAAK,EAAEV,MAAM,CAACG,CAAD;AAHjB,KAD+B,CAAnC;AAOAZ,IAAAA,OAAO,CAACC,GAAR,CAAYO,IAAZ;AACA,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAACY,UAAAA,MAAM,EAAC,OAAR;AAAiBC,UAAAA,QAAQ,EAAC;AAA1B,SAAjB;AACI,QAAA,KAAK,EACD,CAAC;AAAEC,UAAAA;AAAF,SAAD,KAAmBA,SAAS,CAACR,KAFrC;AAII,QAAA,IAAI,EAAEN;AAJV;AAAA;AAAA;AAAA;AAAA,cAHJ,eASI;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,EAEC,KAAKnB,KAAL,CAAWE,KAAX,CAAiBgC,GAAjB,CAAqBC,CAAC,iBAClB;AAAA,qBAAiBA,CAAC,CAACT,UAAnB,OAAgCS,CAAC,CAACC,SAAlC,OAA8CD,CAAC,CAACN,KAAhD,eACC;AAAQ,YAAA,OAAO,EAAGP,CAAD,IAAO,KAAKR,YAAL,CAAkBqB,CAAC,CAACpB,EAApB,EAAwBO,CAAxB,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD;AAAA,WAAUa,CAAC,CAACpB,EAAZ;AAAA;AAAA;AAAA;AAAA,gBADJ,CAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAoBH;;AApEwC;;AAuE7C,eAAenB,cAAf","sourcesContent":["import React from 'react';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass ParticipantLog extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            dummy : 0,\n            users : [],\n        }\n    }\n\n    componentDidMount() {\n        fetch('http://localhost:9000/participants')\n        .then(res => res.json())\n        .then(users => this.setState({ users }));\n    }\n\n    componentDidUpdate(prevProps) {\n        console.log(this.props.counter)\n        if (this.props.counter !== prevProps.counter) {\n            console.log('in the condition')\n            fetch('http://localhost:9000/participants')\n            .then(res => res.json())\n            .then(users => this.setState({ users }));\n        }\n    }\n\n    handleDelete(id) {\n        console.log(id)\n        let url = 'http://localhost:9000/participants?id=' + id\n        console.log(url)\n        fetch(url, {\n            method : 'DELETE'\n        })\n        this.setState({\n            dummy : this.state.dummy + 1\n        })\n    }\n\n    render() {\n        let data = []\n        let colors = [\"#A0E7E5\", \"#B4F8C8\", \"#AC19DD\", \"#98DE6C\", \"#AA42CF\", \"28C4DF\"]\n        this.state.users.forEach((e, i) => data.push(\n            {\n                title: e.first_name,\n                value: parseInt(e.hours),\n                color: colors[i]\n            })\n        )\n        console.log(data)\n        return (\n            <div>\n                <h1>Participant Log</h1>\n                <h2>Summary</h2>\n                <PieChart style={{height:\"200px\", fontSize:\"50%\"}}\n                    label={\n                        ({ dataEntry }) => dataEntry.title\n                    }\n                    data={data}\n                />\n                <div>\n                <h2>Transactions</h2>\n                {this.state.users.map(u =>\n                     <div key={u.id}>{u.first_name} {u.last_name} {u.hours}\n                      <button onClick={(e) => this.handleDelete(u.id, e)}>X</button>\n                     </div>\n                )}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ParticipantLog;"]},"metadata":{},"sourceType":"module"}